# Analysis-Walking-Stride-Modulation

These are MATLAB analysis codes for an article titled: Walking strides direct rapid and flexible recruitment of visual circuits for course control in Drosophila.

AnalysisOptRuns.m: Plotting most of the figure panels using opt-runs protocol (Figures 3F, 4F, 5, 8A, B, D). The same analysis can be applied to the spontaneous walking dataset (Figures 3D, 4B, C, 6A–C, 7C, D)

ANCalciumImaging.m: Plotting figure panels 7F, G

ANCalciumImagingDeepEthogram.m: Plotting figure panels 7H, I

ChemogeneticHSSilencing.m: Plotting figure panels 1E, F

DefineLegPhase.m: Define leg phases (0 – 2pi) from leg joint positions extracted by DeepLabCut This code also plots Figure panels 3E, 8C.

ForwVelDependentVmSlope.m: Plotting figure panels 1C, 8G

OptogeneticHSActivation.m: Plotting figure panels 6I–M

PassiveLegMotion.m: Plotting figure panels 4D–F

PlotCoherence.m: Plotting figure panels 2D, G
